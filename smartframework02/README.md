# 使web框架具有aop特性(smart-framework02)

## 一、引子

如果想统计每个方法的执行时间，怎么实现呢？

在每个方法运行前获取时间，运行后再获取时间，相减？这样可以，但每个方法都这样会不会很繁琐？

aop是更好的解决方法。

## 二、代理

了解aop之前，应该先了解一下代理，代理可以分为**静态代理**和**动态代理**。

静态代理需要大量的代理类，动态代理可以只有一个代理类。

于java而言，动态代理由可分为**JDK动态代理**和**CGlib动态代理**：
* JDK动态代理：只能代理有接口的类，不能代理没有接口的类
* CGlib动态代理：可以代理有接口的类，也可以代理没有接口的类

## 三、AOP

面向切面编程：

切面是AOP中的一个术语，表示从业务逻辑中分离出来的横切逻辑，如性能监控、日志记录、权限控制等。
这些功能可以从核心的业务逻辑代码中抽离。也就是说AOP可以减少耦合，职责单一。

### 3.1、Spring AOP

Spring AOP是利用动态代理开发的。

附上一篇博文：[Spring之AOP由浅入深](https://www.cnblogs.com/zhaozihan/p/5953063.html)

### 3.2、Spring + AspectJ

Spring 开发者老罗开发了spring aop，虽然一直改进，但还是很麻烦，在配置文件中存在大量的切面配置，解决方案是继承AspectJ

## 四、开发AOP框架

1. 首先在smart-framework01的基础上，定义切面注解Aspect；
2. 
